(this["webpackJsonpant-pro"]=this["webpackJsonpant-pro"]||[]).push([[45],{257:function(e,t,r){"use strict";r.r(t);t.default=function(e,t){}},606:function(e,t,r){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),c=a(r(0)),s=r(71);r(30),r(257);var i=a(r(82));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}var h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(n.Router,{history:this.history,children:this.props.children})},t}(c.Component),b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(n.Router,{history:this.history,children:this.props.children})},t}(c.Component),m=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},x=function(e){return e},f=c.forwardRef;void 0===f&&(f=x);var g=f((function(e,t){var r=e.innerRef,a=e.navigate,n=e.onClick,s=d(e,["innerRef","navigate","onClick"]),i=s.target,l=o({},s,{onClick:function(t){try{n&&n(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),a())}});return l.ref=x!==f&&t||r,c.createElement("a",l)})),j=f((function(e,t){var r=e.component,a=void 0===r?g:r,l=e.replace,u=e.to,h=e.innerRef,b=d(e,["component","replace","to","innerRef"]);return c.createElement(n.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=e.history,n=p(m(u,e.location),e.location),d=n?r.createHref(n):"",g=o({},b,{href:d,navigate:function(){var t=m(u,e.location),a=s.createPath(e.location)===s.createPath(p(t));(l||a?r.replace:r.push)(t)}});return x!==f?g.ref=t||h:g.innerRef=h,c.createElement(a,g)}))})),y=function(e){return e},O=c.forwardRef;void 0===O&&(O=y);var v=O((function(e,t){var r=e["aria-current"],a=void 0===r?"page":r,s=e.activeClassName,l=void 0===s?"active":s,u=e.activeStyle,h=e.className,b=e.exact,x=e.isActive,f=e.location,g=e.sensitive,v=e.strict,S=e.style,N=e.to,w=e.innerRef,k=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.createElement(n.__RouterContext.Consumer,null,(function(e){e||i(!1);var r=f||e.location,s=p(m(N,r),r),d=s.pathname,R=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=R?n.matchPath(r.pathname,{path:R,exact:b,sensitive:g,strict:v}):null,C=!!(x?x(P,r):P),I="function"==typeof h?h(C):h,M="function"==typeof S?S(C):S;C&&(I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(I,l),M=o({},M,u));var D=o({"aria-current":C&&a||null,className:I,style:M,to:s},k);return y!==O?D.ref=t||w:D.innerRef=w,c.createElement(j,D)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return n.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return n.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return n.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return n.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return n.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return n.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return n.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return n.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return n.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return n.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return n.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return n.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return n.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return n.withRouter}}),t.BrowserRouter=h,t.HashRouter=b,t.Link=j,t.NavLink=v},607:function(e,t,r){"use strict";var a=r(103),n=r(606),c=r(1);t.a=()=>{const e=Object(n.useHistory)();return Object(c.jsx)(a.a,{onClick:()=>{e.goBack()},type:"default",className:"gx-px-2 gx-text-black",children:"Back"})}},608:function(e,t,r){"use strict";r(0);var a=r(592),n=r(593),c=r(665),s=r(1);const i=Object(s.jsx)("div",{style:{padding:50,background:"rgba(0, 0, 0, 0.05)",borderRadius:4}});t.a=e=>Object(s.jsx)("div",{className:"gx-bg-flex gx-justify-content-center ",children:Object(s.jsx)(a.a,{justify:"center",align:"middle",className:"gx-full-height ",children:Object(s.jsx)(n.a,{children:e&&Object(s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"small"},children:Object(s.jsx)("div",{style:{display:"flex",gap:"small"},children:Object(s.jsx)(c.a,{tip:"Loading...",size:"large",children:i})})})})})})},936:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(592),c=r(593),s=r(222),i=r(893),o=r(884),l=r(899),u=r(256),d=r(336),h=r(103),b=r(892),m=r(44),p=r(223),x=r.n(p),f=r(22),g=r(11),j=r(608),y=r(607),O=r(1);const v=e=>{const{priority:t}=e;let r=parseInt(t)-1;if(!r)return"";let a="";switch(r){case 9:a="owner",r=9;break;case 8:a="subowner",r=8;break;case 7:a="superadmin",r=7;break;case 6:a="admin",r=6;break;case 5:a="subadmin",r=5;break;case 4:a="master",r=4;break;case 3:a="superagent",r=3;break;case 2:a="agent",r=2;break;case 1:a="client",r=1}return a};var S=()=>{const e=Object(f.d)(),{priority:t}=Object(m.useParams)(),[r]=s.a.useForm(),[p,S]=Object(a.useState)([x()().startOf("month"),x()().endOf("month")]),[N,w]=Object(a.useState)(),[k,R]=Object(a.useState)(),[P,C]=Object(a.useState)({casinoShare:0,matchShare:0}),[I,M]=Object(a.useState)({casinoShare:0,matchShare:0}),D=JSON.parse(localStorage.getItem("user_id")),{userListItems:T,userLedgerListData:A,loading:_}=Object(f.e)((e=>e.UserReducer)),[L,E]=Object(a.useState)(null);Object(a.useEffect)((()=>{const r=v({priority:t});e(Object(g.yc)()),F(r)}),[null===D||void 0===D?void 0:D.data.userType]),Object(a.useEffect)((()=>{if(A){const{ledgerData:e}=A,t=(e,t,r)=>0===e?0:Number(e)/t*r,r=e.filter((e=>!N||e.ledgerType===N)).map(((e,r)=>{const a="cricket"===e.ledgerType,n=a?I.matchShare:I.casinoShare,c=a?P.matchShare||I.matchShare:P.casinoShare||I.casinoShare,s=t(e.balance,n,c),i=Number(e.amount);return{key:"".concat(e.userId,"-").concat(r),createdAt:e.createdAt,eventName:e.eventName,balance:s,debit:i>0?t(i,n,c):0,credit:i<0?t(i,n,c):0,ledgerType:e.ledgerType,remark:e.remark}}));R(r)}}),[A,P,N,I]);const F=async t=>{let r={sortData:{createdAt:1},keyWord:"",pageNo:1,size:20,status:"both",parentUserType:null===D||void 0===D?void 0:D.data.userType,parentId:"",downlineUserType:t};await e(Object(g.Cb)(r))},Y=i.a.RangePicker,{Option:H}=o.a,[B,z]=Object(a.useState)(!1),K=(e,t,r)=>({children:e,props:{}}),U=[{title:"#",dataIndex:"id",render:K},{title:"Date",dataIndex:"createdAt",render:e=>x()(e).utcOffset("+05:30").format("DD-MM-YYYY")},{title:"Post Datew",dataIndex:"createdAt1",render:(e,t)=>x()(t.createdAt).utcOffset("+05:30").format("DD-MM-YYYY")},{title:"Collection Name",dataIndex:"eventName",render:K},{title:"Debit",dataIndex:"debit",render:e=>Number.parseFloat(Math.abs(e)).toFixed(2)},{title:"Credit",dataIndex:"credit",render:e=>Number.parseFloat(Math.abs(e)).toFixed(2)},{title:"Balance",dataIndex:"balance",render:(e,t)=>Object(O.jsxs)("span",{children:[t.balance>0&&Number.parseFloat(Math.abs(t.balance)).toFixed(2)+" - Lena",t.balance<0&&Number.parseFloat(Math.abs(t.balance)).toFixed(2)+" - DENA",0===t.balance&&"0.00"]})},{title:"Payment Type",dataIndex:"ledgerType",render:K},{title:"Remark",dataIndex:"remark",render:K},{title:"Done By",dataIndex:"",render:(e,t)=>Object(O.jsx)("span",{children:t.usertype})}],J=v({priority:t});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(l.a,{className:"gx-card gx-w-100",children:[Object(O.jsxs)("div",{className:"gx-bg-grey gx-px-3 gx-pt-3 gx-bg-flex",children:[Object(O.jsx)("span",{className:"gx-fs-2xl gx-font-weight-normal gx-text-white gx-align-items-center gx-pt-1 gx-text-capitalize gx-text-nowrap",children:"parnership"}),Object(O.jsx)(y.a,{})]}),Object(O.jsx)("div",{className:"gx-px-2 gx-pt-3 ",children:Object(O.jsxs)(s.a,{form:r,name:"advanced_search",className:"ant-advanced-search-form",children:[Object(O.jsxs)(n.a,{gutter:20,className:" gx-px-1 gx-py-1 gx-gap-3 gx-w-100",children:[Object(O.jsx)(c.a,{xl:6,lg:8,md:8,sm:12,xs:24,className:"gx-px-5",children:Object(O.jsx)(s.a.Item,{name:"date",rules:[{required:!0}],children:Object(O.jsx)(Y,{className:"gx-mb-2 gx-border-redius0 gx-w-100",ranges:{Today:[x()(),x()()],Yesterday:[x()().subtract(1,"days"),x()().subtract(1,"days")],"This Week":[x()().startOf("week"),x()().endOf("week")],"Last Week":[x()().subtract(1,"week").startOf("week"),x()().subtract(1,"week").endOf("week")],"This Month":[x()().startOf("month"),x()().endOf("month")],"Last Month":[x()().subtract(1,"month").startOf("month"),x()().subtract(1,"month").endOf("month")]},onChange:e=>{S(e)},value:p,defaultValue:[x()().startOf("month"),x()().endOf("month")]})})}),Object(O.jsx)(c.a,{xl:6,lg:8,md:8,sm:12,xs:24,className:"gx-px-5",children:Object(O.jsxs)(s.a.Item,{style:{position:"relative"},label:J,name:"client",rules:[{required:!0}],children:[Object(O.jsx)(u.a,{placeholder:"Select a person",onClick:()=>{z(!0)},onBlur:()=>{setTimeout((()=>z(!1)),200)},value:L,className:"gx-border-redius0 gx-w-100"}),B&&Object(O.jsx)(d.a,{className:"gx-bg-white gx-px-1 gx-overflow-auto gx-w-100",style:{position:"absolute",height:"200px",top:"37px",left:0,zIndex:2},mode:"vertical",children:null===T||void 0===T?void 0:T.map((t=>Object(O.jsx)(d.a.Item,{onMouseDown:()=>(t=>{E(t.username),M({matchShare:100-Number(t.userMatchShare),casinoShare:100-Number(t.userCasinoShare)}),C({matchShare:100-Number(t.userMatchShare),casinoShare:100-Number(t.userCasinoShare)}),z(!1);let r={downlineUserId:t.userId,isSettled:!1};e(Object(g.Cc)(r))})(t),children:"".concat(t.name," (").concat(t.username,")")},t.userId)))})]})})]}),Object(O.jsxs)(n.a,{gutter:20,className:" gx-px-1 gx-py-1 gx-gap-3",children:[Object(O.jsx)(c.a,{xl:6,lg:8,md:8,sm:12,xs:24,className:"gx-px-5",children:Object(O.jsx)(s.a.Item,{label:"ledgerType",name:"ledgerType",children:Object(O.jsxs)(o.a,{className:"gx-mb-2 gx-w-100",defaultValue:"All",onChange:e=>{(e=>{w(e)})(e)},children:[Object(O.jsx)(H,{value:"",children:"All"}),Object(O.jsx)(H,{value:"cricket",children:"Cricket"}),Object(O.jsx)(H,{value:"diamondCasino",children:"Casino"})]})})})," ",Object(O.jsx)(c.a,{lg:6,md:8,sm:12,xs:24,className:"gx-px-5",children:Object(O.jsx)(s.a.Item,{label:"Match Share",children:Object(O.jsx)(u.a,{placeholder:"matchShare",value:""===(null===P||void 0===P?void 0:P.matchShare)?"":null===P||void 0===P?void 0:P.matchShare,onChange:L?e=>{const t=e.target.value;C({matchShare:t,casinoShare:P.casinoShare})}:()=>{},disabled:"diamondCasino"===N,className:"gx-border-redius0 gx-w-100"})})}),Object(O.jsx)(c.a,{lg:6,md:8,sm:12,xs:24,className:"gx-px-5",children:Object(O.jsx)(s.a.Item,{label:"casino Share",children:Object(O.jsx)(u.a,{placeholder:"CasinoShare",value:""===P.casinoShare?"":P.casinoShare,onChange:L?e=>{const t=e.target.value;C({casinoShare:t,matchShare:P.matchShare})}:()=>{},disabled:"cricket"===N,className:"gx-border-redius0 gx-w-100"})})}),Object(O.jsx)(c.a,{lg:8,md:8,sm:12,xs:24,className:"gx-px-3",children:Object(O.jsx)(h.a,{type:"primary",className:"gx-border-redius0 ",children:"Submit"})})]})]})})]}),null!==L&&Object(O.jsx)(l.a,{className:"gx-w-100",children:_?Object(O.jsx)(j.a,{props:_}):Object(O.jsx)(b.a,{rowKey:e=>e.key,className:"gx-table-responsive",dataSource:k,columns:U,bordered:!0,pagination:!1,size:"small",rowClassName:(e,t)=>t%2!==0?"gx-bg-light-grey":""})})]})};t.default=()=>Object(O.jsx)(n.a,{children:Object(O.jsx)(c.a,{xs:24,children:Object(O.jsx)(S,{})})})}}]);