(this["webpackJsonpant-pro"]=this["webpackJsonpant-pro"]||[]).push([[28],{257:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},606:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),o=r(n(0)),s=n(71);n(30),n(257);var c=r(n(82));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},t}(o.Component),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},t}(o.Component),m=function(e,t){return"function"==typeof e?e(t):e},g=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},h=function(e){return e},b=o.forwardRef;void 0===b&&(b=h);var x=b((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=d(e,["innerRef","navigate","onClick"]),c=s.target,l=i({},s,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=h!==b&&t||n,o.createElement("a",l)})),v=b((function(e,t){var n=e.component,r=void 0===n?x:n,l=e.replace,u=e.to,f=e.innerRef,p=d(e,["component","replace","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=e.history,a=g(m(u,e.location),e.location),d=a?n.createHref(a):"",x=i({},p,{href:d,navigate:function(){var t=m(u,e.location),r=s.createPath(e.location)===s.createPath(g(t));(l||r?n.replace:n.push)(t)}});return h!==b?x.ref=t||f:x.innerRef=f,o.createElement(r,x)}))})),j=function(e){return e},y=o.forwardRef;void 0===y&&(y=j);var O=y((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,u=e.activeStyle,f=e.className,p=e.exact,h=e.isActive,b=e.location,x=e.sensitive,O=e.strict,N=e.style,R=e.to,S=e.innerRef,w=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=b||e.location,s=g(m(R,n),n),d=s.pathname,C=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=C?a.matchPath(n.pathname,{path:C,exact:p,sensitive:x,strict:O}):null,I=!!(h?h(P,n):P),A="function"==typeof f?f(I):f,k="function"==typeof N?N(I):N;I&&(A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(A,l),k=i({},k,u));var B=i({"aria-current":I&&r||null,className:A,style:k,to:s},w);return j!==y?B.ref=t||S:B.innerRef=S,o.createElement(v,B)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),t.BrowserRouter=f,t.HashRouter=p,t.Link=v,t.NavLink=O},607:function(e,t,n){"use strict";var r=n(103),a=n(606),o=n(1);t.a=()=>{const e=Object(a.useHistory)();return Object(o.jsx)(r.a,{onClick:()=>{e.goBack()},type:"default",className:"gx-px-2 gx-text-black",children:"Back"})}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(258),a=n.n(r),o=n(21),s=n(225),c=n.n(s);function i(){const e=JSON.parse(localStorage.getItem("user_id")||"null");return e&&e.token?{Authorization:"Bearer "+e.token}:{}}async function l(e){return{data:c.a.AES.encrypt(JSON.stringify(e),"bXL<;XBG4Uf1").toString()}}async function u(e){if(e.data.dataEncrupt&&1==e.data.dataEncrupt&&e.data){let t=e.data.data;const n=c.a.AES.decrypt(t,"?l5V-37g~<Li").toString(c.a.enc.Utf8);n&&null!=n&&""!=n&&void 0!=n&&(e.data.data=JSON.parse(n))}return e.data}const d=n(26).a.domainName,f=async(e,t,n)=>{try{let n={"Content-Type":"application/json",Authorization:i().Authorization};"BABAJI99"===d&&(n["X-Frontend-Secret"]="7-s54ebvQQpsdDA");await l(t);const r=await a()({method:"GET",url:o.a.BACKEND_URL+e,data:{...t},headers:n});return await u(r),m(r),r}catch(s){var r;console.error(s),null!==(r=s.request)&&void 0!==r&&r.status&&g(s.request.status)}},p=async(e,t,n)=>{try{let n={"Content-Type":"application/json",Authorization:i().Authorization};"BABAJI99"===d&&(n["X-Frontend-Secret"]="7-s54ebvQQpsdDA");await l(t);const r=await a()({method:"POST",url:o.a.BACKEND_URL+e,data:{...t},headers:n});return await u(r),r.data}catch(s){var r;console.error(s),null!==(r=s.request)&&void 0!==r&&r.status&&g(s.request.status)}},m=async e=>{var t;3===(null===(t=e.data)||void 0===t?void 0:t.code)&&(localStorage.clear(),sessionStorage.clear(),window.location.href="/signin")},g=async function(){401===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&(localStorage.clear(),sessionStorage.clear(),window.location.href="/signin")}},615:function(e,t,n){"use strict";n(0);var r=n(884),a=n(1);t.a=e=>{let{currentPage:t,totalItems:n,pageSize:o,onPageChange:s}=e;return Object(a.jsx)("div",{className:"gx-text-right gx-my-2 gx-mx-3 ",children:Object(a.jsx)(r.a,{current:t,total:n,pageSize:o,onChange:e=>{s(e)},showSizeChanger:!1,size:"small"})})}},908:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(592),o=n(593),s=n(886),c=n(901),i=n(103),l=n(894),u=n(44),d=n(612),f=n(223),p=n.n(f),m=n(607),g=n(11),h=n(22),b=n(1);var x=n(615);var v=()=>{var e;const t=Object(h.d)(),[n,f]=Object(r.useState)([]),[v,j]=Object(r.useState)([]),[y,O]=Object(r.useState)(""),[N,R]=Object(r.useState)(""),[S,w]=Object(r.useState)(0),[C,P]=Object(r.useState)(),[I,A]=Object(r.useState)(1),[k,B]=Object(r.useState)([]),{marketId:E}=Object(u.useParams)(),{sportsBetsList:L,clientListByMarketId:D,userSearchList:_}=Object(h.e)((e=>e.UserReducer));Object(r.useEffect)((()=>{_&&B(_)}),[_]);Object(r.useEffect)((()=>{U(),(async()=>{let e={marketId:E},t=await Object(d.b)("sports/getSessionList",e);if(t){const e=null===t||void 0===t?void 0:t.data.sort(((e,t)=>{const n=e=>/^\d/.test(e),r=e=>/OVER/.test(e),a=e=>{var t;return parseInt((null===(t=e.match(/^\d+/))||void 0===t?void 0:t[0])||"0",10)},o=e=>/\b1ST\b|\bFIRST\b/.test(e.toUpperCase()),s=e.sessionNames[0]?e.sessionNames[0]:e.sessionNames,c=t.sessionNames[0]?t.sessionNames[0]:t.sessionNames,i=n(s),l=n(c),u=r(s),d=r(c),f=o(s),p=o(c);return f&&!p?1:!f&&p?-1:i&&l?u&&!d?-1:!u&&d?1:a(s)-a(c):i&&!l?-1:!i&&l?1:s.localeCompare(c)}));j(e)}})(),(async()=>{let e={marketId:E,isSessionBet:!0};t(Object(g.y)(e))})()}),[E,I]),Object(r.useEffect)((()=>{var e;if(L&&L.data&&null!==L&&void 0!==L&&null!==(e=L.data)&&void 0!==e&&e.fancyBetData){var t,n;const e=null===L||void 0===L||null===(t=L.data)||void 0===t||null===(n=t.fancyBetData)||void 0===n?void 0:n.map(((e,t)=>({key:"".concat(t),odds:e.odds,amount:e.amount,type:"Y"===e.type?"Yes":"N"===e.type?"NO":"",run:e.run,clientCode:e.userInfo.clientCode,sessionName:e.sessionName,clientName:e.userInfo.clientName,creatorName:e.userInfo.creatorName,createdAt:e.createdAt,decisionRun:0===(null===e||void 0===e?void 0:e.isDeclare)?"Decision Pending":null===e||void 0===e?void 0:e.decisionRun,deletedRemark:e.deletedRemark,profitLoss:e.profitLoss})));f(e),z(e)}}),[L]);const U=async()=>{let e={marketId:E,fancyBet:!0,isDeclare:!0,isDeleted:0,downlineUserType:"client",pageNo:I,size:50};t(Object(g.tb)(e))},z=e=>{let t=0;e.forEach(((n,r)=>{let a=0;n.decisionRun>=n.run&&"Yes"===n.type?a+=n.amount*n.odds:n.decisionRun>=n.run&&"NO"===n.type?a+=-1*n.amount*n.odds:n.decisionRun<n.run&&"Yes"===n.type?a+=-1*n.amount:n.decisionRun<n.run&&"NO"===n.type&&(a+=n.amount),t+=a,e[r].profitLoss=a})),w(t)},T=(e,t,n)=>({children:e,props:{}}),M=[{title:"Place Time",dataIndex:"createdAt",render:e=>p()(e).utcOffset("+05:30").format("DD MMM hh:mm:ss A")},{title:"runner Name",dataIndex:"sessionName",render:T},{title:"username",dataIndex:"clientName",render:(e,t)=>"".concat(t.clientName," (").concat(t.clientCode,")")},{title:"Bet Type",dataIndex:"type",render:e=>Object(b.jsx)("span",{className:"".concat("Yes"===e?"ant-tag gx-rounded-xs ant-tag-blue":"ant-tag gx-rounded-xs ant-tag-red"),children:"Yes"===e?"Yes":"Not"})},{title:"Price",dataIndex:"run",render:T},{title:"Amount",dataIndex:"amount",render:T},{title:"Status",dataIndex:"status",render:T}],{Option:F}=s.a,H=N?null===n||void 0===n?void 0:n.filter((e=>e.sessionName===y)).filter((e=>e.clientCode===N)):null===n||void 0===n?void 0:n.filter((e=>e.sessionName===y));Object(r.useEffect)((()=>{const e=H?Array.from(H.reduce(((e,t)=>(e.has(t.clientCode)||e.set(t.clientCode,{clientCode:t.clientCode,clientName:t.clientName}),e)),new Map).values()):null;P(e)}),[y]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"gx-bg-grey gx-px-3 gx-bg-flex gx-align-items-center",children:[Object(b.jsx)("span",{className:"gx-fs-lg gx-font-weight-bold gx-text-white gx-py-3   gx-pt-1 gx-text-uppercase",children:"Completed Bets"}),Object(b.jsx)(m.a,{})]}),Object(b.jsxs)(c.a,{className:"gx-card gx-w-100 gx-px-2",children:[Object(b.jsxs)(a.a,{gutter:12,className:"gx-px-4 gx-text-uppercase gx-fs-md gx-font-weight-bold",children:[Object(b.jsxs)(o.a,{xs:24,className:"",children:[Object(b.jsxs)("div",{className:"gx-mb-1",children:["Sessions",Object(b.jsx)("span",{className:"gx-text-red",children:"*"})]}),Object(b.jsxs)(s.a,{className:"gx-bg-flex gx-justify-content-start ",placeholder:"All Fancies",value:y,onChange:e=>{O(e);const n={marketId:E,fancyBet:!0,isDeleted:!1,downlineUserId:N,selectionId:e,downlineUserType:"client"};t(Object(g.tb)(n))},children:[Object(b.jsx)(F,{value:"",children:"All Fancies"}),null===v||void 0===v?void 0:v.map(((e,t)=>{var n;return null===(n=e.sessionNames)||void 0===n?void 0:n.map(((n,r)=>Object(b.jsx)(F,{value:e.selectionId,children:n},"".concat(t,"-").concat(r))))}))]})]}),Object(b.jsxs)(o.a,{md:8,xs:24,className:"gx-py-sm-3 gx-text-uppercase",children:[Object(b.jsxs)("div",{className:"gx-mb-2",children:["Client",Object(b.jsx)("span",{className:"gx-text-red",children:"*"})]}),Object(b.jsxs)("div",{className:"gx-d-flex gx-align-items-center",children:[Object(b.jsx)(s.a,{showSearch:!0,placeholder:" Select User",className:"gx-bg-flex gx-justify-content-start ",optionFilterProp:"children",onChange:e=>{O("");const n={marketId:E,fancyBet:!0,isDeleted:!1,downlineUserId:e,downlineUserType:"client"};R(e),O(""),t(Object(g.tb)(n))},onSearch:e=>{const n={searchValue:e,cashTransaction:!0};e.length>2&&t(Object(g.Ub)(n))},filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},children:k&&k.length>0?k.map((e=>Object(b.jsxs)(F,{value:e.userId,label:"".concat(null===e||void 0===e?void 0:e.username," ").concat(null===e||void 0===e?void 0:e.name," "),children:[null===e||void 0===e?void 0:e.username," (",null===e||void 0===e?void 0:e.name,")"]},e.userId))):null}),Object(b.jsx)(i.a,{className:"gx-ml-3",type:"primary",onClick:()=>{R(""),U()},children:"Reset"})]})]})]}),Object(b.jsx)(a.a,{className:"gx-px-4 gx-text-uppercase gx-fs-md gx-font-weight-bold",children:Object(b.jsxs)(o.a,{xs:24,className:"",children:[Object(b.jsx)(l.a,{className:"gx-table-responsive gx-text-uppercase gx-fs-md gx-font-weight-semi-bold",columns:M,dataSource:n,bordered:!0,pagination:!1,size:"small"}),Object(b.jsx)(x.a,{currentPage:I,totalItems:null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.totalFancyCount,pageSize:50,onPageChange:e=>{A(e)}})]})})]})]})};class j extends r.Component{render(){return Object(b.jsx)(a.a,{className:"",children:Object(b.jsx)(o.a,{xl:24,children:Object(b.jsx)(v,{})})})}}t.default=j}}]);